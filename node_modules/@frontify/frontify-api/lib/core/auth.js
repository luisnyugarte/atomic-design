var extend = require('extend');

var defaults = {
  baseUrl: 'https://app.frontify.com',
  qs: {
    access_token: 'xxxxx xxxxx' // -> uri + '?access_token=xxxxx%20xxxxx'
  },
  json: true
};

function auth(meta) {
  var options = extend(true, {}, defaults);

  if (!(meta && meta.access_token)) {
    throw new Error('Please provide an access_token');
  }

  if (!(meta && meta.project)) {
    throw new Error('Please provide a project id');
  }

  if(meta.baseUrl) {
    options.baseUrl = meta.baseUrl;
  }
  options.qs.access_token = meta.access_token;
  return options;
}

module.exports = auth;